// Generated by CoffeeScript 2.7.0
var data, datum;

import {
  parseExpr
} from './parser.js';

import {
  g,
  print,
  range
} from './globals.js';

import {
  Button,
  spread
} from './button.js';

import {
  Lista
} from './lista.js';

import {
  Tournament
} from './tournament.js';

import {
  Tables
} from './page_tables.js';

import {
  Names
} from './page_names.js';

import {
  Standings
} from './page_standings.js';

import {
  Active
} from './page_active.js';

export var handleFile = function(filename, data) {
  return g.tournament.fetchData(filename, data);
};

g.RINGS = {
  'b': '•',
  ' ': ' ',
  'w': 'o'
};

g.ASCII = '0123456789abcdefg';

g.ALFABET = '123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'; // 62 ronder maximalt

datum = '';

g.tournament = null;

g.errors = []; // id för motsägelsefulla resultat. Tas bort med Delete

g.pages = [];

data = `TITLE=Senior Stockholm
DATE=2024-05-28

1598!AIKIO Onni
1539!ANDERSSON Lars Owe
1532!ANTONSSON Görgen
1697!BJÖRKDAHL Göran
1598!ISRAEL Dan
1825!JOHANSSON Lennart
1559!LEHVONEN Jouko
1561!LILJESTRÖM Tor
1583!PERSSON Kjell
1644!PETTERSSON Lars-Åke
1684!SILINS Peteris
1681!STOLOV Leonid
1400!STRÖMBÄCK Henrik
1535!ÅBERG Lars-Erik`;

window.windowResized = function() {
  resizeCanvas(windowWidth, windowHeight - 4);
  return g.LPP = Math.trunc(height / g.ZOOM[g.state] - 4.5);
};

window.setup = function() {
  createCanvas(windowWidth - 4, windowHeight - 4);
  textFont('Courier New');
  // textAlign window.LEFT,window.TOP
  textAlign(CENTER, CENTER);
  rectMode(window.CORNER);
  noStroke();
  g.ZOOM = [
    20,
    20,
    20,
    20 // vertical line distance for four states
  ];
  g.state = g.TABLES;
  g.LPP = Math.trunc(height / g.ZOOM[g.state] - 4.5);
  g.N = 0; // number of players
  g.tournament = new Tournament();
  g.state = g.ACTIVE;
  g.pages = [new Tables(), new Names(), new Standings(), new Active()];
  print(g.pages);
  // print data
  g.tournament.fetchData("DEMO", data);
  return window.windowResized();
};

window.draw = function() {
  background('gray');
  textSize(g.ZOOM[g.state]);
  return g.pages[g.state].draw();
};

window.mouseMoved = function(event) {
  return g.pages[g.state].mouseMoved(event);
};

window.mousePressed = function(event) {
  return g.pages[g.state].mousePressed(event);
};

window.mouseWheel = function(event) {
  return g.pages[g.state].mouseWheel(event);
};

window.keyPressed = function(event) {
  var key2;
  key2 = key;
  if (key2 === 'Control' || key2 === 'Shift' || key2 === 'I') {
    return;
  }
  if (key2 === '1') {
    key2 = 'K1';
  }
  if (key2 === '0') {
    key2 = 'K0';
  }
  return g.pages[g.state].keyPressed(event, key2);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFpcnBhaXIuanMiLCJzb3VyY2VSb290IjoiLi5cXCIsInNvdXJjZXMiOlsiY29mZmVlXFxmYWlycGFpci5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsSUFBQSxFQUFBOztBQUFBLE9BQUE7RUFBUyxTQUFUO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVMsQ0FBVDtFQUFXLEtBQVg7RUFBaUIsS0FBakI7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUyxNQUFUO0VBQWdCLE1BQWhCO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVMsS0FBVDtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFTLFVBQVQ7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUyxNQUFUO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVMsS0FBVDtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFTLFNBQVQ7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUyxNQUFUO0NBQUEsTUFBQTs7QUFFQSxPQUFBLElBQU8sVUFBQSxHQUFhLFFBQUEsQ0FBQyxRQUFELEVBQVUsSUFBVixDQUFBO1NBQW1CLENBQUMsQ0FBQyxVQUFVLENBQUMsU0FBYixDQUF1QixRQUF2QixFQUFnQyxJQUFoQztBQUFuQjs7QUFFcEIsQ0FBQyxDQUFDLEtBQUYsR0FBVTtFQUFDLEdBQUEsRUFBSSxHQUFMO0VBQVUsR0FBQSxFQUFJLEdBQWQ7RUFBbUIsR0FBQSxFQUFJO0FBQXZCOztBQUNWLENBQUMsQ0FBQyxLQUFGLEdBQVU7O0FBQ1YsQ0FBQyxDQUFDLE9BQUYsR0FBWSxnRUFkWjs7QUFnQkEsS0FBQSxHQUFROztBQUVSLENBQUMsQ0FBQyxVQUFGLEdBQWU7O0FBQ2YsQ0FBQyxDQUFDLE1BQUYsR0FBVyxHQW5CWDs7QUFvQkEsQ0FBQyxDQUFDLEtBQUYsR0FBVTs7QUFFVixJQUFBLEdBQU8sQ0FBQTs7Ozs7Ozs7Ozs7Ozs7OztvQkFBQTs7QUFvQlAsTUFBTSxDQUFDLGFBQVAsR0FBdUIsUUFBQSxDQUFBLENBQUE7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b3J0IHsgcGFyc2VFeHByIH0gZnJvbSAnLi9wYXJzZXIuanMnXHJcbmltcG9ydCB7IGcscHJpbnQscmFuZ2UgfSBmcm9tICcuL2dsb2JhbHMuanMnIFxyXG5pbXBvcnQgeyBCdXR0b24sc3ByZWFkIH0gZnJvbSAnLi9idXR0b24uanMnIFxyXG5pbXBvcnQgeyBMaXN0YSB9IGZyb20gJy4vbGlzdGEuanMnIFxyXG5pbXBvcnQgeyBUb3VybmFtZW50IH0gZnJvbSAnLi90b3VybmFtZW50LmpzJyBcclxuaW1wb3J0IHsgVGFibGVzIH0gZnJvbSAnLi9wYWdlX3RhYmxlcy5qcycgXHJcbmltcG9ydCB7IE5hbWVzIH0gZnJvbSAnLi9wYWdlX25hbWVzLmpzJyBcclxuaW1wb3J0IHsgU3RhbmRpbmdzIH0gZnJvbSAnLi9wYWdlX3N0YW5kaW5ncy5qcycgXHJcbmltcG9ydCB7IEFjdGl2ZSB9IGZyb20gJy4vcGFnZV9hY3RpdmUuanMnIFxyXG5cclxuZXhwb3J0IGhhbmRsZUZpbGUgPSAoZmlsZW5hbWUsZGF0YSkgLT4gZy50b3VybmFtZW50LmZldGNoRGF0YSBmaWxlbmFtZSxkYXRhXHRcclxuXHJcbmcuUklOR1MgPSB7J2InOifigKInLCAnICc6JyAnLCAndyc6J28nfVxyXG5nLkFTQ0lJID0gJzAxMjM0NTY3ODlhYmNkZWZnJ1xyXG5nLkFMRkFCRVQgPSAnMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eicgIyA2MiByb25kZXIgbWF4aW1hbHRcclxuXHJcbmRhdHVtID0gJydcclxuXHJcbmcudG91cm5hbWVudCA9IG51bGxcclxuZy5lcnJvcnMgPSBbXSAjIGlkIGbDtnIgbW90c8OkZ2Vsc2VmdWxsYSByZXN1bHRhdC4gVGFzIGJvcnQgbWVkIERlbGV0ZVxyXG5nLnBhZ2VzID0gW11cclxuIFxyXG5kYXRhID0gXCJcIlwiXHJcblRJVExFPVNlbmlvciBTdG9ja2hvbG1cclxuREFURT0yMDI0LTA1LTI4XHJcblxyXG4xNTk4IUFJS0lPIE9ubmlcclxuMTUzOSFBTkRFUlNTT04gTGFycyBPd2VcclxuMTUzMiFBTlRPTlNTT04gR8O2cmdlblxyXG4xNjk3IUJKw5ZSS0RBSEwgR8O2cmFuXHJcbjE1OTghSVNSQUVMIERhblxyXG4xODI1IUpPSEFOU1NPTiBMZW5uYXJ0XHJcbjE1NTkhTEVIVk9ORU4gSm91a29cclxuMTU2MSFMSUxKRVNUUsOWTSBUb3JcclxuMTU4MyFQRVJTU09OIEtqZWxsXHJcbjE2NDQhUEVUVEVSU1NPTiBMYXJzLcOFa2VcclxuMTY4NCFTSUxJTlMgUGV0ZXJpc1xyXG4xNjgxIVNUT0xPViBMZW9uaWRcclxuMTQwMCFTVFLDlk1Cw4RDSyBIZW5yaWtcclxuMTUzNSHDhUJFUkcgTGFycy1FcmlrXHJcblwiXCJcIlxyXG5cclxud2luZG93LndpbmRvd1Jlc2l6ZWQgPSAtPiBcclxuXHRyZXNpemVDYW52YXMgd2luZG93V2lkdGgsIHdpbmRvd0hlaWdodCAtIDRcclxuXHRnLkxQUCA9IE1hdGgudHJ1bmMgaGVpZ2h0IC8gZy5aT09NW2cuc3RhdGVdIC0gNC41XHJcblxyXG53aW5kb3cuc2V0dXAgPSAtPlxyXG5cdGNyZWF0ZUNhbnZhcyB3aW5kb3dXaWR0aC00LHdpbmRvd0hlaWdodC00XHJcblx0dGV4dEZvbnQgJ0NvdXJpZXIgTmV3J1xyXG5cdCMgdGV4dEFsaWduIHdpbmRvdy5MRUZULHdpbmRvdy5UT1BcclxuXHR0ZXh0QWxpZ24gQ0VOVEVSLENFTlRFUlxyXG5cdHJlY3RNb2RlIHdpbmRvdy5DT1JORVJcclxuXHRub1N0cm9rZSgpXHJcblxyXG5cdGcuWk9PTSA9IFsyMCwyMCwyMCwyMF0gIyB2ZXJ0aWNhbCBsaW5lIGRpc3RhbmNlIGZvciBmb3VyIHN0YXRlc1xyXG5cdGcuc3RhdGUgPSBnLlRBQkxFU1xyXG5cdGcuTFBQID0gTWF0aC50cnVuYyBoZWlnaHQgLyBnLlpPT01bZy5zdGF0ZV0gLSA0LjVcclxuXHJcblx0Zy5OID0gMCAjIG51bWJlciBvZiBwbGF5ZXJzXHJcblx0Zy50b3VybmFtZW50ID0gbmV3IFRvdXJuYW1lbnQoKVxyXG5cdGcuc3RhdGUgPSBnLkFDVElWRVxyXG5cclxuXHRnLnBhZ2VzID0gW25ldyBUYWJsZXMsIG5ldyBOYW1lcywgbmV3IFN0YW5kaW5ncywgbmV3IEFjdGl2ZV1cclxuXHRwcmludCBnLnBhZ2VzXHJcblxyXG5cdCMgcHJpbnQgZGF0YVxyXG5cdGcudG91cm5hbWVudC5mZXRjaERhdGEgXCJERU1PXCIsZGF0YVxyXG5cclxuXHR3aW5kb3cud2luZG93UmVzaXplZCgpXHJcblxyXG53aW5kb3cuZHJhdyA9IC0+IFxyXG5cdGJhY2tncm91bmQgJ2dyYXknXHJcblx0dGV4dFNpemUgZy5aT09NW2cuc3RhdGVdXHJcblx0Zy5wYWdlc1tnLnN0YXRlXS5kcmF3KClcclxuXHJcbndpbmRvdy5tb3VzZU1vdmVkID0gKGV2ZW50KSAtPiBnLnBhZ2VzW2cuc3RhdGVdLm1vdXNlTW92ZWQgZXZlbnRcclxud2luZG93Lm1vdXNlUHJlc3NlZCA9IChldmVudCkgLT4gZy5wYWdlc1tnLnN0YXRlXS5tb3VzZVByZXNzZWQgZXZlbnRcclxud2luZG93Lm1vdXNlV2hlZWwgICA9IChldmVudCkgLT4gZy5wYWdlc1tnLnN0YXRlXS5tb3VzZVdoZWVsIGV2ZW50XHJcbndpbmRvdy5rZXlQcmVzc2VkICAgPSAoZXZlbnQpIC0+IFxyXG5cdGtleTIgPSBrZXlcclxuXHRpZiBrZXkyIGluIFsnQ29udHJvbCcsJ1NoaWZ0JywnSSddIHRoZW4gcmV0dXJuXHJcblx0aWYga2V5MiA9PSAnMScgdGhlbiBrZXkyID0gJ0sxJ1xyXG5cdGlmIGtleTIgPT0gJzAnIHRoZW4ga2V5MiA9ICdLMCdcclxuXHRnLnBhZ2VzW2cuc3RhdGVdLmtleVByZXNzZWQgZXZlbnQsa2V5MlxyXG4iXX0=
//# sourceURL=c:\github\FairPair\coffee\fairpair.coffee